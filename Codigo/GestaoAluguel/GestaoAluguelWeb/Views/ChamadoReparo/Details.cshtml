@model GestaoAluguelWeb.Models.ChamadoReparoModel

@{
    ViewData["Title"] = "Detalhes do Chamado";
}

<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-info text-white py-3">
                    <h4 class="mb-0 fw-bold">
                        <i class="bi bi-info-circle me-2"></i> Detalhes do Chamado
                    </h4>
                </div>

                <div class="card-body p-5">
                    <div class="row mb-4">
                        <div class="col-sm-4 text-muted fw-semibold">Código do Chamado</div>
                        <div class="col-sm-8 fw-bold fs-5 text-dark">#@Model.Id</div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-sm-4 text-muted fw-semibold">Status Atual</div>
                        <div class="col-sm-8">
                            @if (Model.Status == "C")
                            {
                                <span class="badge bg-warning text-dark rounded-pill px-3 py-2 fs-6"><i class="bi bi-exclamation-circle me-1"></i> Aberto</span>
                            }
                            else if (Model.Status == "P")
                            {
                                <span class="badge bg-info text-dark rounded-pill px-3 py-2 fs-6"><i class="bi bi-hourglass-split me-1"></i> Em Progresso</span>
                            }
                            else if (Model.Status == "R")
                            {
                                <span class="badge bg-success rounded-pill px-3 py-2 fs-6"><i class="bi bi-check-circle me-1"></i> Resolvido</span>
                            }
                            else
                            {
                                <span class="badge bg-secondary rounded-pill px-3 py-2 fs-6">@Model.Status</span>
                            }
                        </div>
                    </div>

                    <div class="row mb-4 border-bottom pb-3">
                        <div class="col-sm-4 text-muted fw-semibold">
                            <i class="bi bi-house-heart me-1"></i> Imóvel
                        </div>
                        <div class="col-sm-8 fw-medium text-dark">
                            <span class="fs-6">@Model.ApelidoImovel</span>
                            <span class="text-muted ms-2 fst-italic fs-6">
                                (Código: #@Model.IdImovel)
                            </span>
                        </div>
                    </div>
                    <div class="row mb-4 border-bottom pb-3">
                        <div class="col-sm-4 text-muted fw-semibold">
                            <i class="bi bi-geo-alt me-1"></i> Endereço
                        </div>
                        <div class="col-sm-8 fw-medium text-dark">
                            @Model.EnderecoImovel
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-sm-4 text-muted fw-semibold">
                            <i class="bi bi-tools me-1"></i> Tipo do Reparo
                        </div>
                        @if(Model.Tipo!= null && Model.Tipo.Length > 0){
                            <div class="col-sm-8 fw-medium text-dark">
                                @Model.Tipo
                            </div>
                        }
                        else
                        {
                            <div class="col-sm-8 fw-medium text-dark">
                                Não definido
                            </div>
                        }
                    </div>

                    <div class="row mb-4">
                        <div class="col-sm-4 text-muted fw-semibold">
                            <i class="bi bi-pencil-square me-1"></i> Descrição do Reparo
                         </div>
                        <div class="col-sm-8 p-3 bg-light rounded border">
                            @Model.Descricao
                        </div>
                    </div>

                    <div class="row mb-4 border-bottom pb-3">
                        <div class="col-sm-4 text-muted fw-semibold">
                            <i class="bi bi-calendar-plus me-1"></i> Data de Cadastro
                        </div>
                        <div class="col-sm-8 fw-medium text-dark">
                            @Model.DataCadastro.ToShortDateString()
                        </div>
                    </div>

                    <div class="row mb-4 border-bottom pb-3">
                        <div class="col-sm-4 text-muted fw-semibold">
                            <i class="bi bi-calendar-check me-1"></i> Data de Resolução
                        </div>
                        <div class="col-sm-8 fw-medium text-dark">
                            @if (Model.DataResolucao != null)
                            {
                                @Model.DataResolucao?.ToShortDateString()
                            }
                            else
                            {
                                <span class="text-muted fst-italic">Ainda não definida</span>
                            }
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-sm-4 text-muted fw-semibold">
                            Situação do Reparo
                        </div>
                        <div class="col-sm-8">
                            @if (Model.EstaResolvido)
                            {
                                <span class="badge bg-success rounded-pill px-3 py-2 fs-6 shadow-sm">
                                    <i class="bi bi-check-circle-fill me-1"></i> Resolvido
                                </span>
                            }
                            else
                            {
                                <span class="badge bg-warning text-dark rounded-pill px-3 py-2 fs-6 shadow-sm">
                                    <i class="bi bi-clock-history me-1"></i> Pendente
                                </span>
                            }
                        </div>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mt-5 border-top pt-4">
                        <a asp-action="Index" class="btn btn-outline-secondary px-4">
                            <i class="bi bi-arrow-left me-1"></i> Voltar
                        </a>
                        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary px-4 shadow-sm">
                            <i class="bi bi-pencil-square me-1"></i> Editar
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>